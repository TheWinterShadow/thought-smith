<?xml version="1.0" encoding="utf-8"?>
<!--
    AndroidManifest.xml - Application configuration and permissions for Thought Smith
    
    This manifest file defines the core configuration for the Thought Smith Android app,
    including permissions, activities, and application metadata. The app is designed as
    an AI-powered journaling tool that requires internet access for AI API communication
    and file system access for journal export functionality.
    
    Key Features Declared:
    - Internet access for AI API communication
    - File system access for journal entry export
    - Single activity architecture with Jetpack Compose
    - Material Design 3 theming
    - Edge-to-edge display support
    
    @author TheWinterShadow
    @since 1.0.0
-->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!-- 
        INTERNET permission - Required for AI API communication
        Allows the app to connect to OpenAI, Google Gemini, and Anthropic Claude APIs
    -->
    <uses-permission android:name="android.permission.INTERNET" />
    
    <!-- 
        RECORD_AUDIO permission - Required for speech-to-text functionality
        Allows the app to record audio from the microphone for voice input
    -->
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    
    <!-- 
        READ_EXTERNAL_STORAGE permission - Required for reading files
        Allows users to access existing files on their device
    -->
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    
    <!-- 
        WRITE_EXTERNAL_STORAGE permission - Required for saving journal entries
        Limited to API level 32 (Android 12L) and below due to scoped storage changes
        On newer Android versions, Storage Access Framework (SAF) is used instead
    -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"
        android:maxSdkVersion="32" />
    
    <!-- 
        MANAGE_EXTERNAL_STORAGE permission - Enhanced file access for newer Android versions
        Provides broader file system access when specifically requested by users
        Note: This is a special permission that requires user approval
        tools:ignore="ScopedStorage" suppresses lint warnings about scoped storage
    -->
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE"
        tools:ignore="ScopedStorage" />

    <supports-screens
        android:largeScreens="false"
        android:normalScreens="true"
        android:smallScreens="true"
        android:xlargeScreens="false" />

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@drawable/app_icon"
        android:label="@string/app_name"
        android:roundIcon="@drawable/app_icon"
        android:supportsRtl="true"
        android:theme="@style/Theme.ThoughtSmith">
        
        <!--
            MainActivity - The main and only activity for the application
            
            Uses single-activity architecture with Jetpack Compose for all UI.
            This activity hosts the entire navigation graph and all app screens.
            
            Configuration:
            - exported="true" - Allows the activity to be launched by other apps/system
            - label="@string/app_name" - Sets the activity title in the launcher
            - theme="@style/Theme.ThoughtSmith" - Applies the app's Material Design 3 theme
            
            Intent Filter:
            - android.intent.action.MAIN - Marks this as the main entry point
            - android.intent.category.LAUNCHER - Makes the app appear in the launcher
        -->
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:label="@string/app_name"
            android:theme="@style/Theme.ThoughtSmith">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>